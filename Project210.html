<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.554">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Owen Ellick">

<title>Owen Ellick - DANL 210 Project</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Owen Ellick</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li class="dropdown-header">DANL 310</li>
        <li>
    <a class="dropdown-item" href="./Danl-310-team-project.html">
 <span class="dropdown-text">Shooting for Success: Analyzing NBA Player Performance and Value üèÄ</span></a>
  </li>  
        <li class="dropdown-header">DANL 310 Dashboard</li>
        <li>
    <a class="dropdown-item" href="./dashboard.html">
 <span class="dropdown-text">NBA Player Dashboard</span></a>
  </li>  
        <li class="dropdown-header">DANL 210</li>
        <li>
    <a class="dropdown-item" href="./Project210.html">
 <span class="dropdown-text">DANL 210 Project</span></a>
  </li>  
        <li class="dropdown-header">DANL 320</li>
        <li>
    <a class="dropdown-item" href="./danl_320_project.html">
 <span class="dropdown-text">Money Ball: NBA Player Salaries with Big Data and Machine Learning üí∞ ‚õπ</span></a>
  </li>  
        <li class="dropdown-header">Sample IPYNB</li>
        <li>
    <a class="dropdown-item" href="./danl_proj_nba.html">
 <span class="dropdown-text">Data Analysis Project</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./blog-listing.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-jupyter-notebook-blogging" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Jupyter Notebook Blogging</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-jupyter-notebook-blogging">    
        <li>
    <a class="dropdown-item" href="./Icecream.html">
 <span class="dropdown-text">Ice Cream Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Beermarkets.html">
 <span class="dropdown-text">Beer Market Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./Housing.html">
 <span class="dropdown-text">Housing Analysis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-python-data-analysis" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Python Data Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-python-data-analysis">    
        <li>
    <a class="dropdown-item" href="./pandas_basics.html">
 <span class="dropdown-text">Pandas Basics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./seaborn_basics.html">
 <span class="dropdown-text">Seaborn Example</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> 1. Introduction <span class="emoji" data-emoji="chart_with_upwards_trend">üìà</span></a>
  <ul class="collapse">
  <li><a href="#background" id="toc-background" class="nav-link" data-scroll-target="#background"><span class="header-section-number">1.1</span> Background <span class="emoji" data-emoji="office_worker">üßë‚Äçüíº</span></a></li>
  <li><a href="#statement-of-the-problem" id="toc-statement-of-the-problem" class="nav-link" data-scroll-target="#statement-of-the-problem"><span class="header-section-number">1.2</span> Statement of the Problem <span class="emoji" data-emoji="technologist">üßë‚Äçüíª</span></a></li>
  </ul></li>
  <li><a href="#load-the-data" id="toc-load-the-data" class="nav-link" data-scroll-target="#load-the-data"><span class="header-section-number">2</span> Load the Data</a></li>
  <li><a href="#descriptive-statistics" id="toc-descriptive-statistics" class="nav-link" data-scroll-target="#descriptive-statistics"><span class="header-section-number">3</span> 2. Descriptive Statistics <span class="emoji" data-emoji="computer">üíª</span></a>
  <ul class="collapse">
  <li><a href="#descriptive-statistics-for-yfinance-history" id="toc-descriptive-statistics-for-yfinance-history" class="nav-link" data-scroll-target="#descriptive-statistics-for-yfinance-history"><span class="header-section-number">3.1</span> Descriptive Statistics for Yfinance History</a></li>
  <li><a href="#descriptive-statistics-for-balance-sheets" id="toc-descriptive-statistics-for-balance-sheets" class="nav-link" data-scroll-target="#descriptive-statistics-for-balance-sheets"><span class="header-section-number">3.2</span> Descriptive Statistics for Balance Sheets</a></li>
  <li><a href="#descriptive-statistics-income-statements" id="toc-descriptive-statistics-income-statements" class="nav-link" data-scroll-target="#descriptive-statistics-income-statements"><span class="header-section-number">3.3</span> Descriptive Statistics Income Statements</a></li>
  <li><a href="#descriptive-statistics-esg-project-data" id="toc-descriptive-statistics-esg-project-data" class="nav-link" data-scroll-target="#descriptive-statistics-esg-project-data"><span class="header-section-number">3.4</span> Descriptive Statistics ESG Project Data</a></li>
  <li><a href="#distribution-plots" id="toc-distribution-plots" class="nav-link" data-scroll-target="#distribution-plots"><span class="header-section-number">3.5</span> Distribution Plots</a></li>
  <li><a href="#correlation-heat-maps" id="toc-correlation-heat-maps" class="nav-link" data-scroll-target="#correlation-heat-maps"><span class="header-section-number">3.6</span> Correlation Heat Maps</a></li>
  </ul></li>
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis"><span class="header-section-number">4</span> 3. Exploratory Data Analysis <span class="emoji" data-emoji="dollar">üíµ</span></a>
  <ul class="collapse">
  <li><a href="#a.-esg-data-analysis" id="toc-a.-esg-data-analysis" class="nav-link" data-scroll-target="#a.-esg-data-analysis"><span class="header-section-number">4.1</span> A. ESG Data Analysis</a></li>
  <li><a href="#b.-financial-income-statement-data-analysis" id="toc-b.-financial-income-statement-data-analysis" class="nav-link" data-scroll-target="#b.-financial-income-statement-data-analysis"><span class="header-section-number">4.2</span> B. Financial Income Statement Data Analysis</a></li>
  <li><a href="#c.-financial-history-data-analysis" id="toc-c.-financial-history-data-analysis" class="nav-link" data-scroll-target="#c.-financial-history-data-analysis"><span class="header-section-number">4.3</span> C. Financial History Data Analysis</a></li>
  <li><a href="#d.-financial-balance-sheet-data-analysis" id="toc-d.-financial-balance-sheet-data-analysis" class="nav-link" data-scroll-target="#d.-financial-balance-sheet-data-analysis"><span class="header-section-number">4.4</span> D. Financial Balance Sheet Data Analysis</a></li>
  </ul></li>
  <li><a href="#significance-of-the-project" id="toc-significance-of-the-project" class="nav-link" data-scroll-target="#significance-of-the-project"><span class="header-section-number">5</span> 4. Significance of the Project <span class="emoji" data-emoji="memo">üìù</span></a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">6</span> 5. References <span class="emoji" data-emoji="bar_chart">üìä</span></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">DANL 210 Project</h1>
<p class="subtitle lead">Understanding ESG Metrics and Financial Data: A Data Analysis Project</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Owen Ellick </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 1. Introduction <span class="emoji" data-emoji="chart_with_upwards_trend">üìà</span></h1>
<section id="background" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="background"><span class="header-section-number">1.1</span> Background <span class="emoji" data-emoji="office_worker">üßë‚Äçüíº</span></h2>
<p>The integration of Environmental, Social, and Governance (ESG) factors have become increasingly important for investors, businesses, and policymakers due to their implications for sustainability, ethical practices, and long-term financial performance. Understanding the relationship between ESG metrics and financial/accounting data is crucial for making informed investment decisions, developing sustainable business strategies, and shaping public policy.</p>
</section>
<section id="statement-of-the-problem" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="statement-of-the-problem"><span class="header-section-number">1.2</span> Statement of the Problem <span class="emoji" data-emoji="technologist">üßë‚Äçüíª</span></h2>
<p>This project seeks to analyze the interplay between ESG metrics, stock performance, and financial health by integrating data from multiple sources. The specific problem addressed is the lack of comprehensive insights into how ESG factors influence stock market performance and financial outcomes. By conducting data analysis, we aim to uncover patters, correlations, and trends that shed light on the relationship between sustainable practices, market valuation, and corporate financial performance. This analysis will provide valuable insights for investors, business, and policymakers seeking to incorporate ESG considerations into their decision-making processes and drive positive social and environmental impact.</p>
</section>
</section>
<section id="load-the-data" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Load the Data</h1>
<div id="d05703c2" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>finance_balance_sheets <span class="op">=</span> pd.read_csv(<span class="st">'yfinance-balance-sheet.csv'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>finance_income_statement <span class="op">=</span> pd.read_csv(<span class="st">'yfinance-income-stmt.csv'</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>finance_history <span class="op">=</span> pd.read_csv(<span class="st">'yfinance-history.csv'</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>esg_proj_data <span class="op">=</span> pd.read_csv(<span class="st">'esg_proj_data.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="descriptive-statistics" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 2. Descriptive Statistics <span class="emoji" data-emoji="computer">üíª</span></h1>
<section id="descriptive-statistics-for-yfinance-history" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="descriptive-statistics-for-yfinance-history"><span class="header-section-number">3.1</span> Descriptive Statistics for Yfinance History</h2>
<section id="ungrouped" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="ungrouped"><span class="header-section-number">3.1.1</span> Ungrouped</h3>
<div id="8eaf3cac" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Yfinance History Data Descriptive Statistics:"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(finance_history.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Yfinance History Data Descriptive Statistics:
                Open           High            Low          Close  \
count  197796.000000  197796.000000  197796.000000  197796.000000   
mean      149.641065     151.227362     148.152789     149.747446   
std       329.775746     333.343590     326.743053     330.150447   
min         1.030000       1.060000       0.780000       0.980000   
25%        40.284990      40.740002      39.843464      40.310957   
50%        82.321109      83.207870      81.400002      82.359852   
75%       155.430508     156.976242     153.974345     155.511169   
max      8022.919922    8158.990234    8010.000000    8099.959961   

             Volume      Dividends   Stock Splits  
count  1.977960e+05  197796.000000  197796.000000  
mean   4.134482e+06       0.006791       0.000104  
std    9.289442e+06       0.099606       0.014192  
min    0.000000e+00       0.000000       0.000000  
25%    8.323000e+05       0.000000       0.000000  
50%    1.707600e+06       0.000000       0.000000  
75%    3.854425e+06       0.000000       0.000000  
max    3.160112e+08      15.000000       4.000000  </code></pre>
</div>
</div>
</section>
<section id="groupedselected" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="groupedselected"><span class="header-section-number">3.1.2</span> Grouped/Selected</h3>
<div id="ac39caef" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>finance_history[<span class="st">'Volume'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>count    1.977960e+05
mean     4.134482e+06
std      9.289442e+06
min      0.000000e+00
25%      8.323000e+05
50%      1.707600e+06
75%      3.854425e+06
max      3.160112e+08
Name: Volume, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="descriptive-statistics-for-balance-sheets" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="descriptive-statistics-for-balance-sheets"><span class="header-section-number">3.2</span> Descriptive Statistics for Balance Sheets</h2>
<section id="ungrouped-1" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="ungrouped-1"><span class="header-section-number">3.2.1</span> Ungrouped</h3>
<div id="552094a6" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Finance Balance Sheets Data Descriptive Statistics:"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(finance_balance_sheets.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Finance Balance Sheets Data Descriptive Statistics:
       Ordinary Shares Number  Share Issued      Net Debt    Total Debt  \
count            2.658000e+03  2.658000e+03  2.317000e+03  2.626000e+03   
mean             6.405716e+08  7.568339e+08  1.291833e+10  1.922311e+10   
std              1.296627e+09  1.442190e+09  2.240450e+10  4.221775e+10   
min              3.167625e+06  9.589239e+06  2.200000e+07  1.404000e+06   
25%              1.420809e+08  1.716074e+08  2.174900e+09  3.349737e+09   
50%              2.720531e+08  3.142580e+08  5.714136e+09  7.261294e+09   
75%              5.952015e+08  7.113500e+08  1.322700e+10  1.758525e+10   
max              1.572341e+10  1.572341e+10  2.238890e+11  4.421400e+11   

       Tangible Book Value  Invested Capital  Working Capital  \
count         2.659000e+03      2.658000e+03     2.314000e+03   
mean          6.140413e+09      3.453963e+10     1.977094e+09   
std           2.906924e+10      6.710119e+10     7.778440e+09   
min          -9.834700e+10      1.221960e+08    -4.443000e+10   
25%          -1.823000e+09      7.054684e+09    -2.506682e+08   
50%           2.157460e+09      1.482450e+10     9.074155e+08   
75%           8.880100e+09      3.350450e+10     2.709800e+09   
max           2.636610e+11      7.488770e+11     9.313100e+10   

       Net Tangible Assets  Capital Lease Obligations  Common Stock Equity  \
count         2.659000e+03               1.651000e+03         2.659000e+03   
mean          6.475658e+09               1.730649e+09         1.661968e+10   
std           3.034589e+10               5.731350e+09         3.221102e+10   
min          -9.834700e+10              -6.100000e+07        -1.723300e+10   
25%          -1.827950e+09               1.591580e+08         3.229000e+09   
50%           2.120019e+09               3.918690e+08         7.500000e+09   
75%           9.090150e+09               1.001500e+09         1.753100e+10   
max           2.722630e+11               7.729700e+10         3.067370e+11   

       ...  Trading Securities  Investmentsin Subsidiariesat Cost  \
count  ...        1.060000e+02                       3.600000e+01   
mean   ...        8.437230e+10                       2.777855e+09   
std    ...        1.371783e+11                       3.849279e+09   
min    ...        0.000000e+00                       0.000000e+00   
25%    ...        6.462450e+07                       4.755000e+08   
50%    ...        1.174500e+09                       1.388500e+09   
75%    ...        1.357220e+11                       1.962875e+09   
max    ...        5.742130e+11                       1.228100e+10   

       Total Partnership Capital  Limited Partnership Capital  \
count               1.000000e+01                 1.000000e+01   
mean                1.964380e+10                 1.963130e+10   
std                 1.568801e+10                 1.567458e+10   
min                 4.479000e+09                 4.479000e+09   
25%                 4.826250e+09                 4.826250e+09   
50%                 1.910150e+10                 1.908800e+10   
75%                 3.345025e+10                 3.343100e+10   
max                 3.668200e+10                 3.665600e+10   

       Dueto Related Parties Non Current  Duefrom Related Parties Non Current  \
count                       1.400000e+01                         1.100000e+01   
mean                        9.710000e+08                         1.903109e+07   
std                         8.538153e+08                         4.242806e+07   
min                         5.000000e+06                         0.000000e+00   
25%                         2.992500e+08                         0.000000e+00   
50%                         6.075000e+08                         1.805000e+06   
75%                         1.882750e+09                         3.529500e+06   
max                         2.376000e+09                         1.350000e+08   

       Fixed Assets Revaluation Reserve  Current Deferred Taxes Liabilities  \
count                      3.000000e+00                        2.000000e+00   
mean                       3.001667e+09                        9.285000e+07   
std                        5.158336e+09                        9.192388e+05   
min                        2.300000e+07                        9.220000e+07   
25%                        2.350000e+07                        9.252500e+07   
50%                        2.400000e+07                        9.285000e+07   
75%                        4.491000e+09                        9.317500e+07   
max                        8.958000e+09                        9.350000e+07   

       Current Deferred Taxes Assets  General Partnership Capital  
count                   5.000000e+00                          5.0  
mean                    3.234000e+08                   -2000000.0  
std                     6.618761e+07                          0.0  
min                     2.550000e+08                   -2000000.0  
25%                     2.820000e+08                   -2000000.0  
50%                     3.100000e+08                   -2000000.0  
75%                     3.440000e+08                   -2000000.0  
max                     4.260000e+08                   -2000000.0  

[8 rows x 142 columns]</code></pre>
</div>
</div>
</section>
<section id="groupedselected-1" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="groupedselected-1"><span class="header-section-number">3.2.2</span> Grouped/Selected</h3>
<div id="117cb60b" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>finance_balance_sheets[[<span class="st">'Total Assets'</span>,<span class="st">'Total Debt'</span>]].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Total Assets</th>
<th data-quarto-table-cell-role="th">Total Debt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>2.659000e+03</td>
<td>2.626000e+03</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>9.075012e+10</td>
<td>1.922311e+10</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>2.940459e+11</td>
<td>4.221775e+10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>1.891360e+08</td>
<td>1.404000e+06</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>1.131355e+10</td>
<td>3.349737e+09</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>2.523760e+10</td>
<td>7.261294e+09</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>6.313150e+10</td>
<td>1.758525e+10</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>4.090727e+12</td>
<td>4.421400e+11</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
</section>
<section id="descriptive-statistics-income-statements" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="descriptive-statistics-income-statements"><span class="header-section-number">3.3</span> Descriptive Statistics Income Statements</h2>
<section id="ungrouped-2" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="ungrouped-2"><span class="header-section-number">3.3.1</span> Ungrouped</h3>
<div id="86bb314b" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Finance Income Statement Data Descriptive Statistics:"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(finance_income_statement.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Finance Income Statement Data Descriptive Statistics:
       Tax Effect Of Unusual Items  Tax Rate For Calcs  Normalized EBITDA  \
count                 2.659000e+03         2659.000000       2.314000e+03   
mean                 -1.263741e+07            0.203667       1.463302e+09   
std                   1.516601e+08            0.080287       3.230278e+09   
min                  -5.202400e+09            0.000000      -8.430000e+09   
25%                  -3.259879e+06            0.167080       2.814000e+08   
50%                   0.000000e+00            0.210000       5.805740e+08   
75%                   0.000000e+00            0.240000       1.345750e+09   
max                   4.056840e+08            0.400000       4.322100e+10   

       Total Unusual Items  Total Unusual Items Excluding Goodwill  \
count         1.981000e+03                            1.981000e+03   
mean         -5.804262e+07                           -5.804262e+07   
std           9.154493e+08                            9.154493e+08   
min          -1.300600e+10                           -1.300600e+10   
25%          -3.670000e+07                           -3.670000e+07   
50%          -2.500000e+06                           -2.500000e+06   
75%           6.900000e+06                            6.900000e+06   
max           2.802600e+10                            2.802600e+10   

       Net Income From Continuing Operation Net Minority Interest  \
count                                       2.659000e+03            
mean                                        7.352532e+08            
std                                         2.157545e+09            
min                                        -1.191100e+10            
25%                                         1.109640e+08            
50%                                         2.810000e+08            
75%                                         7.211725e+08            
max                                         3.391600e+10            

       Reconciled Depreciation  Reconciled Cost Of Revenue        EBITDA  \
count             2.565000e+03                2.282000e+03  2.314000e+03   
mean              4.015389e+08                4.538171e+09  1.408229e+09   
std               8.570225e+08                1.112775e+10  3.235936e+09   
min              -4.460000e+08               -7.980000e+08 -1.236200e+10   
25%               6.100000e+07                5.786600e+08  2.706172e+08   
50%               1.510000e+08                1.522100e+09  5.706500e+08   
75%               3.812620e+08                3.339823e+09  1.333000e+09   
max               1.382000e+10                1.406860e+11  4.322100e+10   

               EBIT  ...  Salaries And Wages   Other Taxes  \
count  2.463000e+03  ...        5.830000e+02  2.250000e+02   
mean   9.869213e+08  ...        8.517112e+08  3.458729e+08   
std    2.556520e+09  ...        2.054952e+09  1.040171e+09   
min   -1.297600e+10  ...       -4.000000e+08 -9.000000e+05   
25%    1.823420e+08  ...        2.000000e+06  5.899200e+07   
50%    4.150000e+08  ...        5.600000e+07  1.270000e+08   
75%    1.000600e+09  ...        6.220000e+08  2.660000e+08   
max    4.037300e+10  ...        1.311800e+10  7.712000e+09   

       Provision For Doubtful Accounts  Total Other Finance Cost  \
count                     7.600000e+01              2.800000e+02   
mean                      9.453408e+06              3.437941e+07   
std                       2.172056e+07              1.057812e+08   
min                      -2.300000e+07             -8.500000e+07   
25%                       0.000000e+00              1.000000e+06   
50%                       2.816500e+06              5.022000e+06   
75%                       1.100000e+07              2.607500e+07   
max                       9.800000e+07              6.080000e+08   

       Depreciation Income Statement  Insurance And Claims  \
count                   2.180000e+02          8.800000e+01   
mean                    2.192255e+08          1.080127e+08   
std                     3.660190e+08          1.843105e+08   
min                     3.000000e+06          4.643000e+06   
25%                     2.825000e+07          1.282075e+07   
50%                     1.030000e+08          2.868200e+07   
75%                     2.727500e+08          7.576450e+07   
max                     2.264000e+09          7.570000e+08   

       Rent And Landing Fees  Excise Taxes  Depletion Income Statement  \
count           6.400000e+01  2.700000e+01                8.000000e+00   
mean            6.088209e+07  2.281630e+08                2.342250e+08   
std             4.800665e+07  2.792101e+09                1.093543e+08   
min             1.700000e+07 -4.122000e+09                1.214000e+08   
25%             2.800000e+07  1.728500e+08                1.631000e+08   
50%             3.541850e+07  5.423000e+08                1.830000e+08   
75%             6.842500e+07  7.565000e+08                3.432500e+08   
max             1.800000e+08  1.129900e+10                3.870000e+08   

       Securities Amortization  
count             5.000000e+00  
mean              2.670120e+07  
std               2.412841e+07  
min               4.581000e+06  
25%               1.011000e+07  
50%               1.320700e+07  
75%               4.969400e+07  
max               5.591400e+07  

[8 rows x 75 columns]</code></pre>
</div>
</div>
</section>
<section id="groupedselected-2" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="groupedselected-2"><span class="header-section-number">3.3.2</span> Grouped/Selected</h3>
<div id="c676d3dd" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>finance_income_statement[<span class="st">'Net Income'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>count    2.659000e+03
mean     7.498470e+08
std      2.219866e+09
min     -1.191100e+10
25%      1.116675e+08
50%      2.825000e+08
75%      7.290780e+08
max      3.391600e+10
Name: Net Income, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="descriptive-statistics-esg-project-data" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="descriptive-statistics-esg-project-data"><span class="header-section-number">3.4</span> Descriptive Statistics ESG Project Data</h2>
<section id="ungrouped-3" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="ungrouped-3"><span class="header-section-number">3.4.1</span> Ungrouped</h3>
<div id="9079317a" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">ESG Data Descriptive Statistics:"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(esg_proj_data.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
ESG Data Descriptive Statistics:
       Total ESG Risk Score  Environmental Risk Score  Social Risk Score  \
count            635.000000                612.000000         612.000000   
mean              21.639843                  5.819281           9.016176   
std                7.112836                  5.318299           3.566610   
min                6.400000                  0.000000           0.800000   
25%               16.300000                  1.775000           6.700000   
50%               21.200000                  4.000000           8.900000   
75%               26.100000                  9.000000          11.125000   
max               52.000000                 27.300000          22.500000   

       Governance Risk Score  Controversy Level  
count             612.000000         577.000000  
mean                6.826961           1.967071  
std                 2.395565           0.786578  
min                 2.400000           1.000000  
25%                 5.200000           1.000000  
50%                 6.300000           2.000000  
75%                 7.900000           2.000000  
max                19.400000           5.000000  </code></pre>
</div>
</div>
</section>
<section id="groupedselected-3" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="groupedselected-3"><span class="header-section-number">3.4.2</span> Grouped/Selected</h3>
<div id="69a18d33" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>esg_proj_data[<span class="st">'Total ESG Risk Score'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>count    635.000000
mean      21.639843
std        7.112836
min        6.400000
25%       16.300000
50%       21.200000
75%       26.100000
max       52.000000
Name: Total ESG Risk Score, dtype: float64</code></pre>
</div>
</div>
<div id="1dc04cfc" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>esg_proj_data[<span class="st">'Controversy Level'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>count    577.000000
mean       1.967071
std        0.786578
min        1.000000
25%        1.000000
50%        2.000000
75%        2.000000
max        5.000000
Name: Controversy Level, dtype: float64</code></pre>
</div>
</div>
</section>
</section>
<section id="distribution-plots" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="distribution-plots"><span class="header-section-number">3.5</span> Distribution Plots</h2>
<section id="esg-project-data" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="esg-project-data"><span class="header-section-number">3.5.1</span> ESG Project Data</h3>
<div id="465e283b" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_distributions(df, title_prefix):</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> df.select_dtypes(include<span class="op">=</span>[<span class="st">'float64'</span>, <span class="st">'int64'</span>]).columns:</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>        sns.histplot(df[col].dropna(), bins<span class="op">=</span><span class="dv">20</span>, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        plt.title(<span class="ss">f'Distribution of </span><span class="sc">{</span>title_prefix<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>        plt.xlabel(col)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>        plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        plt.show()</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot distributions for ESG data</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>plot_distributions(esg_proj_data, <span class="st">'ESG Data'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-12-output-1.png" width="808" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-12-output-2.png" width="816" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-12-output-3.png" width="808" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-12-output-4.png" width="821" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-12-output-5.png" width="816" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="yfinance-balance-sheet-data" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="yfinance-balance-sheet-data"><span class="header-section-number">3.5.2</span> Yfinance Balance Sheet Data</h3>
<div id="2b82b988" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>balance_sheet_columns <span class="op">=</span> [<span class="st">'Total Assets'</span>, <span class="st">'Common Stock'</span>, <span class="st">'Current Liabilities'</span>, <span class="st">'Accounts Payable'</span>, <span class="st">'Total Debt'</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot distributions for specified columns</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_distributions(df, title_prefix, columns):</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> columns:</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>        sns.histplot(df[col].dropna(), bins<span class="op">=</span><span class="dv">20</span>, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>        plt.title(<span class="ss">f'Distribution of </span><span class="sc">{</span>title_prefix<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>        plt.xlabel(col)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>        plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>        plt.show()</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot distributions for financial balance sheets data</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>plot_distributions(finance_balance_sheets, <span class="st">'Finance Balance Sheets Data'</span>, columns<span class="op">=</span>balance_sheet_columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-13-output-1.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-13-output-2.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-13-output-3.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-13-output-4.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-13-output-5.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="yfinance-income-statement-data" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="yfinance-income-statement-data"><span class="header-section-number">3.5.3</span> Yfinance Income Statement Data</h3>
<div id="124225ce" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>income_statement_columns <span class="op">=</span> [<span class="st">'Net Income'</span>, <span class="st">'Total Revenue'</span>, <span class="st">'Gross Profit'</span>, <span class="st">'Total Expenses'</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot distributions for specified columns</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_distributions(df, title_prefix, columns):</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> columns:</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>        sns.histplot(df[col].dropna(), bins<span class="op">=</span><span class="dv">20</span>, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>        plt.title(<span class="ss">f'Distribution of </span><span class="sc">{</span>title_prefix<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>        plt.xlabel(col)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>        plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>        plt.show()</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot distributions for financial income statement data</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>plot_distributions(finance_income_statement, <span class="st">'Finance Income Statement Data'</span>, columns<span class="op">=</span>income_statement_columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-14-output-1.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-14-output-2.png" width="826" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-14-output-3.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-14-output-4.png" width="825" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="yfinance-history-data" class="level3" data-number="3.5.4">
<h3 data-number="3.5.4" class="anchored" data-anchor-id="yfinance-history-data"><span class="header-section-number">3.5.4</span> Yfinance History Data</h3>
<div id="93f23576" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>history_columns <span class="op">=</span> [<span class="st">'Open'</span>, <span class="st">'High'</span>, <span class="st">'Low'</span>, <span class="st">'Close'</span>]</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to plot distributions for specified columns</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_distributions(df, title_prefix, columns):</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> col <span class="kw">in</span> columns:</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>        sns.histplot(df[col].dropna(), bins<span class="op">=</span><span class="dv">20</span>, kde<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>        plt.title(<span class="ss">f'Distribution of </span><span class="sc">{</span>title_prefix<span class="sc">}</span><span class="ss"> </span><span class="sc">{</span>col<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>        plt.xlabel(col)</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>        plt.ylabel(<span class="st">'Frequency'</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        plt.show()</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot distributions for financial historical data</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>plot_distributions(finance_history, <span class="st">'Finance History Data'</span>, columns<span class="op">=</span>history_columns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-15-output-1.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-15-output-2.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-15-output-3.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-15-output-4.png" width="842" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="correlation-heat-maps" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="correlation-heat-maps"><span class="header-section-number">3.6</span> Correlation Heat Maps</h2>
<section id="esg-project-data-heatmap" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="esg-project-data-heatmap"><span class="header-section-number">3.6.1</span> ESG Project Data Heatmap</h3>
<div id="45882bf5" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>numeric_data <span class="op">=</span> esg_proj_data.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>corr_matrix <span class="op">=</span> numeric_data.corr()</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(corr_matrix, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>, fmt<span class="op">=</span><span class="st">".2f"</span>, linewidths<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Correlation Heatmap with Varied Correlations'</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-16-output-1.png" width="769" height="663" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="yfinance-historical-data-heatmap" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="yfinance-historical-data-heatmap"><span class="header-section-number">3.6.2</span> Yfinance Historical Data Heatmap</h3>
<div id="7ca4341e" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>numeric_data <span class="op">=</span> finance_history.select_dtypes(include<span class="op">=</span><span class="st">'number'</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>corr_matrix <span class="op">=</span> numeric_data.corr()</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">6</span>))</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>sns.heatmap(corr_matrix, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>, fmt<span class="op">=</span><span class="st">".2f"</span>, linewidths<span class="op">=</span><span class="fl">.5</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Correlation Heatmap with Varied Correlations'</span>)</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-17-output-1.png" width="665" height="570" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="exploratory-data-analysis" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 3. Exploratory Data Analysis <span class="emoji" data-emoji="dollar">üíµ</span></h1>
<section id="a.-esg-data-analysis" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="a.-esg-data-analysis"><span class="header-section-number">4.1</span> A. ESG Data Analysis</h2>
<ul>
<li>Find the top 10 companies by Total ESG Risk Score</li>
</ul>
<div id="0516586f" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>top_10_companies <span class="op">=</span> esg_proj_data.sort_values(by<span class="op">=</span><span class="st">'Total ESG Risk Score'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">10</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_10_companies)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                               Comapny Name  Total ESG Risk Score  \
211                 Energy Transfer LP (ET)                  52.0   
492       Range Resources Corporation (RRC)                  44.9   
119     Chesapeake Energy Corporation (CHK)                  44.0   
149       Crescent Point Energy Corp. (CPG)                  42.4   
436  Occidental Petroleum Corporation (OXY)                  41.7   
629           Exxon Mobil Corporation (XOM)                  41.6   
244           General Electric Company (GE)                  40.5   
217              Eagle Materials Inc. (EXP)                  40.5   
64                  The Boeing Company (BA)                  39.6   
161               Cenovus Energy Inc. (CVE)                  39.3   

     Environmental Risk Score  Social Risk Score  Governance Risk Score  \
211                       NaN                NaN                    NaN   
492                      25.3                9.7                    9.9   
119                      23.8               10.9                    9.3   
149                      27.3                7.9                    7.2   
436                      25.0                9.7                    7.0   
629                      23.1               10.0                    8.5   
244                      14.2               15.4                   10.9   
217                      22.3                9.2                    9.0   
64                        8.8               22.5                    8.3   
161                      21.6                9.6                    8.1   

     Controversy Level  
211                5.0  
492                2.0  
119                2.0  
149                NaN  
436                2.0  
629                3.0  
244                3.0  
217                1.0  
64                 4.0  
161                2.0  </code></pre>
</div>
</div>
<ul>
<li>Comment: This code provides the top 10 companies in the esg_proj_data data frame by Total ESG Risk Score.
<ul>
<li>As you can see Energy Transfer LP is the top company by Total ESG Risk Score</li>
</ul></li>
<li>Create a plot to visualize the Total ESG Risk Scores for the top 10 companies</li>
</ul>
<div id="9cf2f65c" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>top_10_companies, x<span class="op">=</span><span class="st">'Comapny Name'</span>, y<span class="op">=</span><span class="st">'Total ESG Risk Score'</span>, palette<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Top 10 Companies by Total ESG Risk Score'</span>)</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Company'</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Total ESG Risk Score'</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>, ha<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-19-output-1.png" width="944" height="564" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Comment: This bar plot visualizes the top 10 companies by Total ESG Risk Score</li>
</ul>
</section>
<section id="b.-financial-income-statement-data-analysis" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="b.-financial-income-statement-data-analysis"><span class="header-section-number">4.2</span> B. Financial Income Statement Data Analysis</h2>
<ul>
<li>What is the distribution of net income across a small subset of 5 companies within the data frame finance_income_statement?</li>
</ul>
<div id="ac4d9be9" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>subset_companies <span class="op">=</span> finance_income_statement[<span class="st">'Company Name'</span>].unique()[:<span class="dv">5</span>] </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>subset_data <span class="op">=</span> finance_income_statement[finance_income_statement[<span class="st">'Company Name'</span>].isin(subset_companies)]</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>subset_data, x<span class="op">=</span><span class="st">'Net Income'</span>, y<span class="op">=</span><span class="st">'Company Name'</span>)</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Distribution of Net Income Across Selected Companies'</span>)</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Net Income'</span>)</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Company Name'</span>)</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-20-output-1.png" width="948" height="564" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Comment: This code shows boxplots regarding net income for the first 5 companies in the data frame
<ul>
<li>The box plot summarizes the central tendency and spread of net income for each selected company</li>
<li>It reveals variations in net income distribution among the companies, with Apple being far ahead in every aspect.</li>
<li>Potential outliers in net income are indicated by points beyond the whiskers of the box plot</li>
<li>This visualization helps identify differences in net income distribution across companies and highlights areas for further analysis</li>
</ul></li>
</ul>
</section>
<section id="c.-financial-history-data-analysis" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="c.-financial-history-data-analysis"><span class="header-section-number">4.3</span> C. Financial History Data Analysis</h2>
<ul>
<li>What is the average daily trading volume for a specific company over the given time period spanning from January 1,2023, to March 31, 2024?</li>
</ul>
<div id="8ad50514" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>company_name <span class="op">=</span> <span class="st">'Tesla, Inc.'</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>company_data <span class="op">=</span> finance_history[finance_history[<span class="st">'Company Name'</span>] <span class="op">==</span> company_name]</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>average_volume <span class="op">=</span> company_data[<span class="st">'Volume'</span>].mean()</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The average daily trading volume for </span><span class="sc">{</span>company_name<span class="sc">}</span><span class="ss"> is: </span><span class="sc">{</span>average_volume<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The average daily trading volume for Tesla, Inc. is: 130524607.07395498</code></pre>
</div>
</div>
<ul>
<li>How does the closing price of Zillow Group, Inc.&nbsp;vary over time?</li>
</ul>
<div id="adc815c6" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>company_name <span class="op">=</span> <span class="st">'Zillow Group, Inc.'</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>company_data <span class="op">=</span> finance_history[finance_history[<span class="st">'Company Name'</span>] <span class="op">==</span> company_name]</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>company_data[<span class="st">'Date'</span>] <span class="op">=</span> pd.to_datetime(company_data[<span class="st">'Date'</span>])</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>sns.lineplot(data<span class="op">=</span>company_data, x<span class="op">=</span><span class="st">'Date'</span>, y<span class="op">=</span><span class="st">'Close'</span>, marker<span class="op">=</span><span class="st">'o'</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="ss">f'Closing Price Over Time for </span><span class="sc">{</span>company_name<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Date'</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Closing Price'</span>)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">45</span>)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-22-output-1.png" width="949" height="565" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Comment: The closing price for Zillow based on the visualization was trending upward in the first and second quarter.
<ul>
<li>In the third quarter the close price dropped very low within 35 and 40.</li>
<li>During the fourth quarter the closing price willed its way back up</li>
<li>Lastly, in the fifth quarter it remained volatile going up and down ultimately ending trending downward</li>
</ul></li>
</ul>
</section>
<section id="d.-financial-balance-sheet-data-analysis" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="d.-financial-balance-sheet-data-analysis"><span class="header-section-number">4.4</span> D. Financial Balance Sheet Data Analysis</h2>
<ul>
<li>Find the top 15 companies in the finance_balance_sheets Data Frame by Inventory</li>
</ul>
<div id="37e94b77" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>grouped_inventory <span class="op">=</span> finance_balance_sheets.groupby(<span class="st">'Company Name'</span>)[<span class="st">'Inventory'</span>].<span class="bu">sum</span>().reset_index()</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>top_companies_inventory <span class="op">=</span> grouped_inventory.sort_values(by<span class="op">=</span><span class="st">'Inventory'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>top_15_companies_inventory <span class="op">=</span> top_companies_inventory.head(<span class="dv">15</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>column_order <span class="op">=</span> [<span class="st">'Company Name'</span>, <span class="st">'Inventory'</span>] <span class="op">+</span> [col <span class="cf">for</span> col <span class="kw">in</span> top_15_companies_inventory.columns <span class="cf">if</span> col <span class="kw">not</span> <span class="kw">in</span> [<span class="st">'Company Name'</span>, <span class="st">'Inventory'</span>]]</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>top_15_companies_inventory <span class="op">=</span> top_15_companies_inventory[column_order]</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(top_15_companies_inventory)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     Company Name     Inventory
455            The Boeing Company  3.990090e+11
28               Amazon.com, Inc.  1.706280e+11
188       Exxon Mobil Corporation  1.209520e+11
146             D.R. Horton, Inc.  1.168188e+11
279            Lennar Corporation  1.056539e+11
307          McKesson Corporation  1.053050e+11
97         CVS Health Corporation  8.787900e+10
110                       Cencora  8.754558e+10
215        General Motors Company  8.740400e+10
201            Ford Motor Company  8.652400e+10
108              Caterpillar Inc.  8.647700e+10
105         Cardinal Health, Inc.  8.527500e+10
209                  GE Aerospace  8.413800e+10
139  Costco Wholesale Corporation  8.413200e+10
449                   Tesla, Inc.  7.211100e+10</code></pre>
</div>
</div>
<ul>
<li><p>Comment: These are the top 15 companies in the data frame by inventory</p></li>
<li><p>How does total assets value vary across different companies?</p></li>
</ul>
<div id="141e89c4" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>grouped_assets <span class="op">=</span> finance_balance_sheets.groupby(<span class="st">'Company Name'</span>)[<span class="st">'Total Assets'</span>].<span class="bu">sum</span>().reset_index()</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>top_companies_assets <span class="op">=</span> grouped_assets.sort_values(by<span class="op">=</span><span class="st">'Total Assets'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>top_N <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>top_N_companies_assets <span class="op">=</span> top_companies_assets.head(top_N)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>top_N_companies_assets, x<span class="op">=</span><span class="st">'Company Name'</span>, y<span class="op">=</span><span class="st">'Total Assets'</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="ss">f'Top </span><span class="sc">{</span>top_N<span class="sc">}</span><span class="ss"> Companies by Total Assets'</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Company Name'</span>)</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Total Assets'</span>)</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>,)</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Project210_files/figure-html/cell-24-output-1.png" width="949" height="565" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Comment: This code shows how the variable total assets varys across the top 10 companies by total assets. I reduced the data to top 10 to avoid overcrowding on the x axis.</li>
</ul>
</section>
</section>
<section id="significance-of-the-project" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> 4. Significance of the Project <span class="emoji" data-emoji="memo">üìù</span></h1>
<p>This project holds significant implications across various domains, particularly in investment analysis, risk management, and corporate governance. By utilizing financial and ESG data retrieved from Yahoo! Finance, stakeholders such as investors, financial analysts, and policymakers gain access to valuable insights essential for informed decision-making. For investors, the project offers the opportunity to assess companies‚Äô financial performance alongside their environmental, social, and governance practices, enabling more comprehensive investment evaluations. Moreover, businesses can leverage the data to optimize operational strategies, mitigate risks, and enhance sustainability efforts. From a regulatory standpoint, policymakers can use the insights to formulate policies promoting transparency, accountability, and responsible corporate behavior, thus fostering long-term economic growth and societal well-being. Overall, the project‚Äôs implications extend beyond financial analysis to encompass broader societal and environmental considerations, underscoring its relevance in shaping business practices and public policy.</p>
</section>
<section id="references" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> 5. References <span class="emoji" data-emoji="bar_chart">üìä</span></h1>
<ul>
<li><p>Data collected from Yahoo! finance: https://finance.yahoo.com/</p></li>
<li><p>ChatGPT was used as a coding reference to improve code and debug. https://chatgpt.com/</p></li>
</ul>


</section>

</main> <!-- /main -->
<script type="text/javascript" src="links.js"></script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Powered with GitHub and Quarto<br>¬© Owen Ellick, 2023</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>